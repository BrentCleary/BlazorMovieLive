@page "/"
@using BlazorMovieLive.Services
@using BlazorMovieLive.Models
@inject TMDBClient TMDB

<PageTitle>Blazor Movie: Popular Movies</PageTitle>

<div class="container-xxl py-3">
	<div class="d-flex flex-column flex-md-row justify-content-between my-3">
		<h1 class="display-6">
			<span class="text-danger">
				<i class="bi bi-fire"></i>
			</span>
			Popular Movies
		</h1>

		Welcome to your new app.

		<img src="/images/THEMOVEDBLogo.svg" class="w-25" />

		<button class="btn btn-primary mt-3">Primary Button</button>

		<div class="row row-cols-2 row-cols-lg-4 row-cols-xl-5 justify-content-center justify-content-stat">
		@if(movies is not null)
		{
			@foreach (PopularMovie movie in movies.Results)
			{
				<div class="col">

				</div>
				}
			}
			else
			{
				for (int i = 0; i < 10; i++)
				{
					<div class="col">

					</div>
				}
			}
		</div>
	</div>
</div>

@code {
	private PopularMoviePagedResponse? movies;

	protected override async Task OnInitializedAsync()
	{
   		movies = await TMDB.GetPopularMoviesAsync();
	}
}